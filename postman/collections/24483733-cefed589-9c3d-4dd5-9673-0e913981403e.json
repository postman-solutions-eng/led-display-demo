{
	"info": {
		"_postman_id": "24483733-cefed589-9c3d-4dd5-9673-0e913981403e",
		"name": "LED Name Badge API",
		"description": "# LED Name Badge API\n\n## Overview\nThis API allows you to control an LED name badge display through two primary endpoints.\n\n## ⚠️ CRITICAL CHARACTER RESTRICTION ⚠️\n**ONLY two types of characters are supported by this API:**\n1. Standard alphanumeric characters (A-Z, a-z, 0-9)\n2. Special predefined icons that MUST be retrieved from the `GET /predefined-icons` endpoint\n\n## Character Usage Rules\n\n### ✅ ALLOWED:\n- Standard alphanumeric characters (A-Z, a-z, 0-9)\n- Special icons ONLY from the `/predefined-icons` endpoint response\n\n### ❌ STRICTLY PROHIBITED:\n- Any special characters, symbols, or emojis NOT in the predefined icons list\n- Unicode characters not explicitly returned by the `/predefined-icons` endpoint\n- Emojis or symbols not in the predefined icons list\n- ASCII art or other special character combinations\n\n## Consequences of Using Unsupported Characters\n- API will return validation errors\n- Display may show incorrect characters\n- Display may fail to show anything at all\n- Hardware may behave unpredictably\n\n## Required Implementation Sequence\n1. FIRST: Call `GET /predefined-icons` to retrieve the complete list of supported special icons\n2. THEN: Use ONLY characters from this list combined with alphanumeric characters\n3. FINALLY: Send validated text to `POST /display-text`\n\n## Available Endpoints\n\n### 1. `GET /predefined-icons`\n- **Purpose**: Retrieve the ONLY supported special icons/characters\n- **Usage**: MUST be called first before attempting to use any special characters\n- **Response**: Returns an array of all supported special characters/icons\n- **Importance**: Critical - this is the ONLY source of truth for valid special characters\n\n### 2. `POST /display-text`\n- **Purpose**: Send text to be displayed on the LED badge\n- **Strict Validation Required**: Text MUST ONLY contain:\n  - Standard alphanumeric characters (A-Z, a-z, 0-9)\n  - Special icons from the `/predefined-icons` response\n- **Error Handling**: Will reject requests with unsupported characters\n\n## Best Practices for Developers and AI Agents\n1. ALWAYS fetch the allowed icons using the `/predefined-icons` endpoint before constructing display text\n2. Validate ALL text to ensure it ONLY contains standard alphanumeric characters and/or icons from the `/predefined-icons` response\n3. NEVER attempt to use any special characters not explicitly returned by the `/predefined-icons` endpoint\n4. Implement character validation before sending requests to prevent errors\n\nThis restriction ensures compatibility with the hardware and prevents display errors.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Get Predefined Icons",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"",
							"pm.test(\"Response status code is 200\", function () {",
							"    pm.expect(pm.response.code).to.equal(200);",
							"});",
							"",
							"",
							"pm.test(\"Response has the required field 'icons'\", function () {",
							"    const responseData = pm.response.json();",
							"    ",
							"    pm.expect(responseData).to.be.an('object');",
							"    pm.expect(responseData.icons).to.exist.and.to.be.an('array');",
							"});",
							"",
							"",
							"pm.test(\"Icons is an array containing only non-empty strings\", function () {",
							"    const responseData = pm.response.json();",
							"    ",
							"    pm.expect(responseData).to.be.an('object');",
							"    pm.expect(responseData.icons).to.be.an('array').and.to.have.lengthOf.at.least(1, \"Icons array should not be empty\");",
							"",
							"    responseData.icons.forEach(icon => {",
							"        pm.expect(icon).to.be.a('string').and.to.have.lengthOf.at.least(1, \"Each icon should be a non-empty string\");",
							"    });",
							"});",
							"",
							"",
							"pm.test(\"Content-Type is application/json\", function () {",
							"    pm.expect(pm.response.headers.get('Content-Type')).to.eql('application/json');",
							"});",
							"",
							"",
							"pm.test(\"Response time is less than 200ms\", function () {",
							"    pm.expect(pm.response.responseTime).to.be.below(200);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"id": "24483733-e3657ba0-49ff-41a1-b288-b56e0477d035",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/predefined-icons",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"predefined-icons"
					]
				}
			},
			"response": [
				{
					"id": "24483733-6ccd7ca2-aa58-47d3-ad81-3214755f692e",
					"name": "Get Predefined Icons",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/predefined-icons",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"predefined-icons"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Server",
							"value": "Werkzeug/3.1.3 Python/3.9.6",
							"enabled": true
						},
						{
							"key": "Date",
							"value": "Fri, 13 Jun 2025 14:44:41 GMT",
							"enabled": true
						},
						{
							"key": "Content-Type",
							"value": "application/json",
							"enabled": true
						},
						{
							"key": "Content-Length",
							"value": "173",
							"enabled": true
						},
						{
							"key": "Connection",
							"value": "close",
							"enabled": true
						}
					],
					"cookie": [],
					"responseTime": null,
					"body": "{\n    \"icons\": [\n        \":ball:\",\n        \":happy:\",\n        \":happy2:\",\n        \":heart:\",\n        \":HEART:\",\n        \":heart2:\",\n        \":HEART2:\",\n        \":fablab:\",\n        \":bicycle:\",\n        \":bicycle_r:\",\n        \":owncloud:\",\n        \":octocat:\",\n        \":smile:\",\n        \":star:\",\n        \":sun:\"\n    ]\n}"
				}
			]
		},
		{
			"name": "Display Text",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "a4f676cc-f213-498a-8b89-45e84f953279",
						"exec": [
							"",
							"pm.test(\"Response status code is 200\", function () {",
							"    pm.expect(pm.response.code).to.eql(200);",
							"});",
							"",
							"",
							"pm.test(\"Response has required fields\", function () {",
							"    const responseData = pm.response.json();",
							"    ",
							"    pm.expect(responseData).to.be.an('object');",
							"    pm.expect(responseData).to.have.all.keys('status', 'text');",
							"});",
							"",
							"",
							"pm.test(\"Status must be a non-empty string\", function () {",
							"    const responseData = pm.response.json();",
							"    ",
							"    pm.expect(responseData).to.be.an('object');",
							"    pm.expect(responseData.status).to.exist.and.to.be.a('string').and.to.have.lengthOf.at.least(1, \"Status should not be empty\");",
							"});",
							"",
							"// ensure that the text includes at least one emoji starting with :",
							"pm.test(\"Text must include at least one emoji\", function () {",
							"    const responseData = pm.response.json();",
							"",
							"    pm.expect(responseData).to.be.an('object');",
							"    pm.expect(responseData.text).to.match(/:\\w+/);",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"id": "24483733-cecafab5-4486-4d99-b880-586004df885a",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"text\": \"{{vault:azure-vault-secret}}\"\n}"
				},
				"url": {
					"raw": "{{baseUrl}}/display-text",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"display-text"
					]
				},
				"description": "Do not use any special characters"
			},
			"response": [
				{
					"id": "41094746-f81e0728-51ca-4c09-9876-521e24e44638",
					"name": "Display Text",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"text\": \":ball: :happy: :happy2: :heart: :HEART: :heart2: :HEART2: :fablab: :bicycle: :bicycle_r: :owncloud: Hello World!\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/display-text",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"display-text"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Server",
							"value": "Werkzeug/3.1.3 Python/3.9.6"
						},
						{
							"key": "Date",
							"value": "Fri, 13 Jun 2025 15:57:34 GMT"
						},
						{
							"key": "Content-Type",
							"value": "application/json"
						},
						{
							"key": "Content-Length",
							"value": "157"
						},
						{
							"key": "Connection",
							"value": "close"
						}
					],
					"cookie": [],
					"responseTime": null,
					"body": "{\n    \"status\": \"Text displayed on LED\",\n    \"text\": \":ball: :happy: :happy2: :heart: :HEART: :heart2: :HEART2: :fablab: :bicycle: :bicycle_r: :owncloud: Hello World!\"\n}"
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "acd46579-7450-492e-b6fd-7eef2346fe8d",
				"type": "text/javascript",
				"packages": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "7c6cec08-ebcc-409d-847e-1c4be012c45d",
				"type": "text/javascript",
				"packages": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "094d87e7-f220-4ea1-a046-f203b8f14b6d",
			"key": "baseUrl",
			"value": "https://a84a2672-11fd-41e3-8f81-5127bca46a38.mock.pstmn.io",
			"type": "string"
		}
	]
}